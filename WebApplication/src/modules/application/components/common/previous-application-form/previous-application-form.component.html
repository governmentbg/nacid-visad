<ng-form>
	<div class="row"
			 style="height: 70px; align-content: center;">
		<div class="form-group col-sm-12 col-md-12">
			<div class="form-check">
				<label class="form-check-label">
					<input *ngIf="!canAddPreviousApplication"
								 class="form-check-input"
								 type="checkbox"
								 checked="checked"
								 name="hasPreviousApplication"
								 disabled="disabled">

					<input *ngIf="canAddPreviousApplication"
								 class="form-check-input"
								 type="checkbox"
								 name="hasPreviousApplication"
								 [(ngModel)]="model.hasPreviousApplication"
								 (ngModelChange)="togglePreviousApplication($event)"
								 [disabled]="!isEditMode">

					{{ 'application.new.previousApplication.hasPreviousApplication' | translate }}
				</label>
			</div>
		</div>
	</div>
	<ng-container *ngIf="model.hasPreviousApplication">
		<div class="row">
			<div class="form-group col-sm-12 col-md-4">
				<label class="d-inline-flex">
					{{ 'application.new.previousApplication.previousApplicationRegisterNumber' | translate }}
				</label>
				<div *ngIf="!canAddPreviousApplication"
						 class="form-control form-control-sm"
						 style="background-color:#e9ecef ;">
					<a routerLink='/application/lot/{{lotId}}/commit/{{applicationCommitId}}'
						 target="_blank">{{ model.previousApplicationRegisterNumber}}</a>
				</div>

				<input *ngIf="canAddPreviousApplication"
							 #previousApplicationRegisterNumber="ngModel"
							 type="text"
							 name="previousApplicationRegisterNumber"
							 class="form-control form-control-sm"
							 [(ngModel)]="model.previousApplicationRegisterNumber"
							 [disabled]="!isEditMode"
							 maxlength="11">
			</div>
			<div class="form-group col-sm-12 col-md-2">
				<label class="d-inline-flex">
					{{ 'application.new.previousApplication.previousApplicationYear' | translate }}
				</label>

				<div *ngIf="canAddPreviousApplication == false"
						 class="form-control form-control-sm"
						 style="background-color:#e9ecef ;">
					<p>{{ model.previousApplicationYear}}</p>
				</div>

				<input *ngIf="canAddPreviousApplication == true"
							 name="previousApplicationYear"
							 #previousApplicationYear="ngModel"
							 type="number"
							 class="form-control form-control-sm"
							 [(ngModel)]="model.previousApplicationYear"
							 [disabled]="!isEditMode || !canAddPreviousApplication"
							 (keypress)="filterYear($event, model.previousApplicationYear)"
							 appBlockCopyPaste
							 min="2000"
							 [max]="maxYear"
							 oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
							 maxlength="4">
			</div>
		</div>
	</ng-container>
</ng-form>
