<ng-form>
	<h6 class="mt-3">{{ 'application.new.training.title' | translate }}</h6>
	<div class="row">
		<div class="form-group col-sm-12">
			<table class="table">
				<thead>
					<tr>
						<th style="width: 34.1%;">{{ 'application.new.training.language' | translate }}</th>
						<th style="width: 19.5%;">{{ 'application.new.training.reading' | translate }}</th>
						<th style="width: 19.5%;">{{ 'application.new.training.writing' | translate }}</th>
						<th style="width: 19.5%;">{{ 'application.new.training.speaking' | translate }}</th>
						<th *ngIf="isEditMode">
						</th>
					</tr>
				</thead>
				<tbody>
					<tr
							*ngFor="let languageProficiency of model.languageProficiencies; let i = index; let first = first; trackBy: sharedService.trackByFn">
						<td>
							<app-async-select #languageDegreeType="ngModel"
																name="languageProficiency-{{i}}-language"
																restUrl="Language/Select"
																[(ngModel)]="languageProficiency.language"
																[disabled]="!isEditMode || first || languageProficiency.disable"
																[required]="isEditMode"></app-async-select>
						</td>
						<td>
							<app-async-select #languageDegreeType="ngModel"
																name="languageProficiency-{{i}}-reading"
																restUrl="LanguageDegree/Select"
																[(ngModel)]="languageProficiency.reading"
																[disabled]="!isEditMode"
																[required]="isEditMode"></app-async-select>
						</td>
						<td>
							<app-async-select #languageDegreeType="ngModel"
																name="languageProficiency-{{i}}-writing"
																restUrl="LanguageDegree/Select"
																[(ngModel)]="languageProficiency.writing"
																[disabled]="!isEditMode"
																[required]="isEditMode"></app-async-select>
						</td>
						<td>
							<app-async-select #languageDegreeType="ngModel"
																name="languageProficiency-{{i}}-speaking"
																restUrl="LanguageDegree/Select"
																[(ngModel)]="languageProficiency.speaking"
																[disabled]="!isEditMode"
																[required]="isEditMode"></app-async-select>
						</td>
						<td *ngIf="isEditMode">
							<button *ngIf="!first"
											type="button"
											class="btn btn-sm btn-secondary d-flex justify-content-center align-items-center"
											(click)="removeLanguageProficiency(i)"
											[disabled]="model.languageProficiencies.length <= 1">
								<app-icon icon="trash"
													class="mr-1"
													width="18"
													height="18"></app-icon>
								{{ 'buttons.delete' | translate }}
							</button>
						</td>
					</tr>
				</tbody>
			</table>

			<!-- <button *ngIf="isEditMode"
							type="button"
							class="btn btn-sm btn-primary"
							(click)="addLanguageProficiency()">
				{{ 'application.new.training.addLanguageBtn' | translate }}
			</button> -->
		</div>
	</div>

	<div class="row">
		<div class="form-group col-sm-12 col-md-5">
			<label class="d-inline-flex align-items-center">
				{{ 'application.new.training.trainingLanguageDocument' | translate }}
				<app-help-tooltip class="ml-1"
													tooltipText="Документ от висше училище в Р.България - за кандидатите, които ще се обучават на български език и няма да преминават езикова и специализирана подготовка">
				</app-help-tooltip>
			</label>
			<app-file-upload #trainingLanguageDocumentFile="ngModel"
											 name="trainingLanguageDocumentFile"
											 [(ngModel)]="model.trainingLanguageDocumentFile"
											 [disabled]="!isEditMode"></app-file-upload>
		</div>
	</div>

	<div class="multi-container">
		<div class="row">
			<div class="form-group col-sm-12 col-md-8">
				<label class="d-inline-flex align-items-center">
					{{ 'application.new.training.languageDepartment' | translate }}
				</label>

				<input #languageDepartment="ngModel"
							 type="text"
							 name="languageDepartment"
							 class="form-control form-control-sm"
							 [(ngModel)]="model.languageDepartment"
							 [disabled]="!isEditMode"
							 minlength="5"
							 maxlength="100">
			</div>
			<div class="form-group col-sm-12 col-md-3">
				<label class="d-inline-flex align-items-center">
					{{ 'application.new.training.duration' | translate }}
				</label>

				<input #languageTrainingDuration="ngModel"
							 type="number"
							 name="languageTrainingDuration"
							 class="form-control form-control-sm"
							 [(ngModel)]="model.languageTrainingDuration"
							 [disabled]="!isEditMode"
							 [required]="model.languageDepartment"
							 min="1"
							 max="12"
							 oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
							 maxlength="2">
			</div>
		</div>
	</div>
</ng-form>
